<%- layout("/layout/boilerplate") %>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Auto Image Slider with EJS</title>
    <style>
        .slider {
    width: 100%; /* Full width of the webpage */
    overflow: hidden; /* Hide overflow */
    display: flex;
    justify-content: center;
}

.slider {
    width: 100%;
    overflow: hidden;
    position: relative;
    height: 400px; /* Adjust this as needed */
}

.slides {
    display: flex;
    transition: transform 0.5s ease-in-out;
    width: 100%;
    height: 100%;
}

.slide {
    min-width: 100%;
    box-sizing: border-box;
}

.slide img {
    width: 100%;
    height: 100%;
    object-fit: contain; /* Show full image without cropping */
}
        .slide {
            width: 100%;
            flex-shrink: 0;
        }
        img {
            width: 100%;
            height: auto;
        }
        .prev, .next {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background-color: rgba(0, 0, 0, 0.5);
            color: white;
            border: none;
            padding: 10px;
            cursor: pointer;
        }
        .prev { left: 10px; }
        .next { right: 10px; }
        .card-list img{
            height: 100px;
            width:200px;
        }
        .listing-anch{
            height: 20rem;
        }
        .features {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 20px;
    padding: 20px;
    background: white;
}

.feature-item {
    text-align: center;
    cursor: pointer;
}

.feature-item img {
    width: 40px;
    height: 40px;
}
.card-img-top{
    height: 20rem;
    margin-right: 2rem;
}
.card-list{
    border:none !important;
    margin-bottom: 2rem;
}
.card-img-top{
    border-radius: 2rem !important;
    width:100% !important;
    object-fit: cover;
}
.card-dark{
    background-color: #C4D9FF !important;
}
.card-body{
    padding: 0 !important;

}
.card-text{
    font-weight: 400;
    display: inline;
}
.listing-anch{
    text-decoration: none;
}
.card-img-overlay{
    opacity: 1;
}
    </style>
</head>
<body>

    <div class="slider">
        <div class="slides">
            <% images.forEach((image) => { %>
                <div class="slide">
                    <img src="<%= image %>" alt="Product Image"/>
                </div>
            <% }); %>
        </div>
        <button class="prev" onclick="moveSlide(-1)">❮</button>
        <button class="next" onclick="moveSlide(1)">❯</button>
    </div>
    <br>
    <div class="features">
        <div class="feature-item">
            <img src="<%=imgIcn[0]%>" alt="Natural Ingredients">
            <p>Natural Ingredients</p>
        </div>
        <div class="feature-item">
            <img src="<%=imgIcn[1]%>" alt="No Harsh Chemicals">
            <p>No Harsh Chemicals</p>
        </div>
        <div class="feature-item">
            <img src="<%=imgIcn[2]%>" alt="Cruelty Free">
            <p>Cruelty Free</p>
        </div>
        <div class="feature-item">
            <img src="<%=imgIcn[3]%>" alt="Dermatologist Tested">
            <p>Dermatologist Tested</p>
        </div>
    </div>
    <br>
    <br>
    <h2 style="margin: auto;color: black;">Our Best Sellers</h2>
    <div class="row row-cols-lg-3 row-cols-md-2 row-cols-sm-1 mt-2">
        <%for(image of images){%>
            <a href="/skin/" class="listing-anch">
                <div class="card cd col card-list">
                    <img src="<%=image%>" class="card-img-top" alt="...">
                    <div class="card-img-overlay"></div>
                    <div class="card-body">
                    <p class="card-text"><b><%=  %></b><br>
                        Price :&#8377;<b class="price-tags">1800<%= //image.price.toLocaleString("en-IN") %></b>
                        <b class="price-tag"><%= //image.price.toLocaleString("en-IN") %></b>
                    </p>
                    </div>
                    <!-- <form action="get">
                        <button type="submit">Add</button>
                    </form> -->
                </div>
            </a>
            <%}%>
    </div>



    <script>
        //var images = <%- //JSON.stringify(images) %>;
        //console.log(images);
        var totalSlides = 3;  // 
        console.log(totalSlides)
        let currentIndex = 0;
        const slides = document.querySelector('.slides');
    
        function moveSlide(direction) {
            currentIndex += direction;
            if (currentIndex < 0) currentIndex = totalSlides - 1;
            if (currentIndex >= totalSlides) currentIndex = 0;
            slides.style.transform = `translateX(-${currentIndex * 100}%)`;
        }
    
        function autoSlide() {
            moveSlide(1);
        }
    
        setInterval(autoSlide, 3000);
    </script>

</body>
